for(i in 1:length(FolderD1)){
D1.hdr[i] <- paste(FolderD1[i], '/',
list.files(FolderD1[i])[str_detect(list.files(FolderD1[i]), '.hdr')],
sep = '')}
G1D1 <- read.ENVI(
file = D1.dat[1],
headerfile = D1.hdr[1],
header = list(),
keys.hdr2data = FALSE,
wavelength = NULL,
label = list(),
block.lines.skip = 0,
block.lines.size = NULL,
pull.header.lines = TRUE)
G1D1df <- as.data.frame(G1D1, xy = TRUE)
rm(G1D1, D1.dat, D1.hdr, FolderD1, i)
G1D1b <- brick(
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,114])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,65])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,32])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,199])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,22])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,139])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,149])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,134])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,74])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,232])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,131])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,191])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,79])))
for(i in 1:10){
dfName <- "G"[i]"D1"
}
for(i in 1:10){
dfName <- "G"[i]"D1"
}
for(i in 1:10){
dfName <- paste("G"[i]"D1")
}
for(i in 1:10){
dfName <- paste("G"[i]"D1")
}
dfName <- paste("G""D1")
dfName <-"G""D1"
dfName <- <- vector('character')
dfName <- vector('character')
for(i in 1:10){
dfName <- paste("G"[i]"D1")
}
for(i in 1:10){
dfName <- paste(G[i]D1)
}
for(i in 1:10){
dfName <- paste(G[i]D1)
}
for(i in 1:10){
+dfName <- paste(G[i]D1)
}
dfName <- paste(G[i]D1)
dfName <- paste(GD1)
dfName <- paste("GD1")
dfName <- paste("GD2")
dfName <- paste("G",[i],"D1")
for(i in 1:10){
dfName <- paste("G",[i],"D1")
}
dfName <- paste("GD2","D!")
dfName <- paste("GD2","D!", sep = "")
for(i in 1:10){
paste(i)
}
print(i)
for(i in 1:10){
print(i)
}
for(i in 1:10){
a <- paste(i)
}
a
a <- vector('character')
for(i in 1:10){
a <- paste(i)
}
a
a <- vector('character')
for(i in 1:10){
a <- paste(i)
}
a
for(i in 1:10){
a <- paste("i")
}
a
a <- print("i")
for(i in 1:10){
a <- print("i")
}
.FolderD1 <- list.dirs('../Data/2022-01-18 CERC potatoes')
FolderD1 <- .FolderD1[str_detect(.FolderD1, '_ref')]
D1.dat <- vector('character')
for(i in 1:length(FolderD1)){
D1.dat[i] <- paste(FolderD1[i], '/',
list.files(FolderD1[i])[str_detect(list.files(FolderD1[i]), '.dat')],
sep = '')
}
D1.hdr <- vector('character')
for(i in 1:length(FolderD1)){
D1.hdr[i] <- paste(FolderD1[i], '/',
list.files(FolderD1[i])[str_detect(list.files(FolderD1[i]), '.hdr')],
sep = '')}
for(i in 1:length(FolderD1)){
dfName <- G[i]D1
}
?Sys.glob
.FolderD1 <- list.dirs('../Data/2022-01-18 CERC potatoes')
FolderD1 <- .FolderD1[str_detect(.FolderD1, '_ref')]
D1.dat <- vector('character')
for(i in 1:length(FolderD1)){
D1.dat[i] <- paste(FolderD1[i], '/',
list.files(FolderD1[i])[str_detect(list.files(FolderD1[i]), '.dat')],
sep = '')
}
D1.hdr <- vector('character')
for(i in 1:length(FolderD1)){
D1.hdr[i] <- paste(FolderD1[i], '/',
list.files(FolderD1[i])[str_detect(list.files(FolderD1[i]), '.hdr')],
sep = '')}
for(i in 1:length(FolderD1)){
dfName <- G[i]D1
}
# NOT RUN
tic()
for(i in 1:length(FolderD1)){
G[i]D1 <- read.ENVI(
file = D1.dat[i],
headerfile = D1.hdr[i],
header = list(),
keys.hdr2data = FALSE,
wavelength = NULL,
label = list(),
block.lines.skip = 0,
block.lines.size = NULL,
pull.header.lines = TRUE)
G[i]D1df <- as.data.frame(G[i]D1, xy = TRUE)
rm(G[i]D1)
G1D1b <- brick(
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,114])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,65])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,32])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,199])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,22])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,139])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,149])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,134])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,74])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,232])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,131])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,191])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,79])))
rm(G[i]D1)
} ;toc()
# NOT RUN
tic()
for(i in 1:length(FolderD1)){
G[i]D1 <- read.ENVI(
file = D1.dat[i],
headerfile = D1.hdr[i],
header = list(),
keys.hdr2data = FALSE,
wavelength = NULL,
label = list(),
block.lines.skip = 0,
block.lines.size = NULL,
pull.header.lines = TRUE)
G[i]D1df <- as.data.frame(G[i]D1, xy = TRUE)
rm(G[i]D1)
G1D1b <- brick(
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,114])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,65])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,32])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,199])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,22])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,139])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,149])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,134])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,74])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,232])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,131])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,191])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,79])))
} ;toc()
for(i in 1:1){
G[i]D1 <- read.ENVI(
# DO NOT RUN
dfNames <- vector('character')
for(i in 1:10){
dfNames <- c(paste("G",i,"D1", sep =""))
}
dfNames
# DO NOT RUN
dfNames <- vector('character')
for(i in 1:10){
dfNames <- c(rep(paste("G",i,"D1", sep ="")),i)
}
dfNames <- c(rep(paste("G",i,"D1", sep ="")),times = i)
for(i in 1:10){
dfNames <- c(rep(paste("G",i,"D1", sep ="")),times = i)
}
dfNames <- c(print(paste("G",i,"D1", sep ="")))
for(i in 1:10){
dfNames <- print(paste("G",i,"D1", sep =""))
}
x = c(1,2)
AnnotationsD <- data.frame(x = as.character(NA), type = as.character(NA),
label = as.character(NA), lesion = as.character(NA),
stringsAsFactors =F)
AnnotationsD
for(i in 1:length(x)){
D = c(x = as.character(i), type = as.character("Distance"),
label = as.character("*"), lesion = as.character("Wild"))
AnnotationsD[i,] <- D
}
AnnotationsD
# DO NOT RUN
dfNames <- vector('character')
for(i in 1:10){
dfNames <- paste("G",as.character(i),"D1", sep ="")
}
dfNames
dfNames <- c(paste("G",as.character(i),"D1", sep =""))
for(i in 1:9){
dfNames <- c(paste("G",as.character(i),"D1", sep =""))
}
# DO NOT RUN
dfNames <- data.frame('character')
dfNames
for(i in 1:9){
dfNames <- c(paste("G",as.character(i),"D1", sep =""))
}
# DO NOT RUN
dfNames <- data.frame('character')
for(i in 1:9){
dfNames <- c(paste(as.character(i)))
}
.FolderD1 <- list.dirs('../Data/2022-01-18 CERC potatoes')
FolderD1 <- .FolderD1[str_detect(.FolderD1, '_ref')]
D1.dat <- vector('character')
for(i in 1:length(FolderD1)){
D1.dat[i] <- paste(FolderD1[i], '/',
list.files(FolderD1[i])[str_detect(list.files(FolderD1[i]), '.dat')],
sep = '')
}
# DO NOT RUN
dfNames <- vector('character')
for(i in 1:9){
dfNames[i] <- paste(as.character(i))
}
# DO NOT RUN
dfNames <- vector('character')
for(i in 1:9){
dfNames[i] <- paste("G",as.character(i),"D1", sep = "")
}
ENVINames <- vector('character')
for(i in 1:9){
dfNames[i] <- paste("G",as.character(i),"D1", sep = "")
}
# DO NOT RUN
dfNames <- vector('character')
for(i in 1:9){
dfNames[i] <- paste("G",as.character(i),"D1df", sep = "")
}
bNames <- vector('character')
for(i in 1:9){
dfNames[i] <- paste("G",as.character(i),"D1b", sep = "")
}
# DO NOT RUN
dfNames <- vector('character')
for(i in 1:9){
dfNames[i] <- paste("G",as.character(i),"D1df", sep = "")
}
ENVINames <- vector('character')
for(i in 1:9){
dfNames[i] <- paste("G",as.character(i),"D1", sep = "")
}
bNames <- vector('character')
for(i in 1:9){
dfNames[i] <- paste("G",as.character(i),"D1b", sep = "")
}
tic()
library(hyperSpec)
library(raster)
library(tictoc)
gc()
tic()
for(i in 1:1){
ENVINames[i] <- read.ENVI(
file = D1.dat[i],
headerfile = D1.hdr[i],
header = list(),
keys.hdr2data = FALSE,
wavelength = NULL,
label = list(),
block.lines.skip = 0,
block.lines.size = NULL,
pull.header.lines = TRUE)
dfNames[i] <- as.data.frame(ENVINames[i], xy = TRUE)
rm(ENVINames[i])
bNames[i] <- brick(
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,114])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,65])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,32])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,199])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,22])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,139])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,149])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,134])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,74])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,232])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,131])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,191])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,79])))
rm (dfNames[i])
};toc()
.FolderD1 <- list.dirs('../Data/2022-01-18 CERC potatoes')
FolderD1 <- .FolderD1[str_detect(.FolderD1, '_ref')]
if(!require("stringr")) install.packages("stringr")
library(stringr)
.FolderD1 <- list.dirs('../Data/2022-01-18 CERC potatoes')
FolderD1 <- .FolderD1[str_detect(.FolderD1, '_ref')]
D1.dat <- vector('character')
for(i in 1:length(FolderD1)){
D1.dat[i] <- paste(FolderD1[i], '/',
list.files(FolderD1[i])[str_detect(list.files(FolderD1[i]), '.dat')],
sep = '')
}
D1.hdr <- vector('character')
for(i in 1:length(FolderD1)){
D1.hdr[i] <- paste(FolderD1[i], '/',
list.files(FolderD1[i])[str_detect(list.files(FolderD1[i]), '.hdr')],
sep = '')}
for(i in 1:length(FolderD1)){
dfName <- G[i]D1
# DO NOT RUN
dfNames <- vector('character')
for(i in 1:9){
dfNames[i] <- paste("G",as.character(i),"D1df", sep = "")
}
ENVINames <- vector('character')
for(i in 1:9){
dfNames[i] <- paste("G",as.character(i),"D1", sep = "")
}
bNames <- vector('character')
for(i in 1:9){
dfNames[i] <- paste("G",as.character(i),"D1b", sep = "")
}
tic()
for(i in 1:1){
ENVINames[i] <- read.ENVI(
file = D1.dat[i],
headerfile = D1.hdr[i],
header = list(),
keys.hdr2data = FALSE,
wavelength = NULL,
label = list(),
block.lines.skip = 0,
block.lines.size = NULL,
pull.header.lines = TRUE)
dfNames[i] <- as.data.frame(ENVINames[i], xy = TRUE)
rm(ENVINames[i])
bNames[i] <- brick(
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,114])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,65])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,32])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,199])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,22])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,139])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,149])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,134])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,74])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,232])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,131])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,191])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,79])))
rm (dfNames[i])
};toc()
ENVINames <- vector('character')
for(i in 1:9){
dfNames[i] <- paste("G",as.character(i),"D1", sep = "")
}
ENVINames
ENVINames <- vector('character')
for(i in 1:9){
dfNames[i] <- paste("G",as.character(i),"D1", sep = "")
}
bNames <- vector('character')
for(i in 1:9){
dfNames[i] <- paste("G",as.character(i),"D1b", sep = "")
}
# DO NOT RUN
dfNames <- vector('character')
for(i in 1:9){
dfNames[i] <- paste("G",as.character(i),"D1df", sep = "")
}
dfNames
ENVINames <- vector('character')
ENVINames[i] <- paste("G",as.character(i),"D1", sep = "")
for(i in 1:9){
ENVINames[i] <- paste("G",as.character(i),"D1", sep = "")
}
bNames <- vector('character')
for(i in 1:9){
bNames[i] <- paste("G",as.character(i),"D1b", sep = "")
}
tic()
for(i in 1:1){
ENVINames[i] <- read.ENVI(
file = D1.dat[i],
headerfile = D1.hdr[i],
header = list(),
keys.hdr2data = FALSE,
wavelength = NULL,
label = list(),
block.lines.skip = 0,
block.lines.size = NULL,
pull.header.lines = TRUE)
dfNames[i] <- as.data.frame(ENVINames[i], xy = TRUE)
rm(ENVINames[i])
bNames[i] <- brick(
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,114])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,65])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,32])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,199])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,22])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,139])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,149])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,134])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,74])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,232])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,131])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,191])),
rasterFromXYZ(data.frame(G1D1df$x, G1D1df$y, G1D1df$spc[,79])))
rm (dfNames[i])
};toc()
tic()
for(i in 1:1){
paste("G",as.character(i),"D1b", sep = "") <-
read.ENVI(
file = D1.dat[i],
headerfile = D1.hdr[i],
header = list(),
keys.hdr2data = FALSE,
wavelength = NULL,
label = list(),
block.lines.skip = 0,
block.lines.size = NULL,
pull.header.lines = TRUE)} ;toc()
if(!require("hyperSpec")) install.packages("hyperSpec")
if(!require("raster")) install.packages("raster")
if(!require("tictoc")) install.packages("tictoc")
if(!require("stringr")) install.packages("stringr")
library(tidyr)
library(tidyverse)
.FolderD1 <- list.dirs('../Data/2022-01-18 CERC potatoes')
FolderD1 <- .FolderD1[str_detect(.FolderD1, '_ref')]
D1.dat <- vector('character')
for(i in 1:length(FolderD1)){
D1.dat[i] <- paste(FolderD1[i], '/',
list.files(FolderD1[i])[str_detect(list.files(FolderD1[i]), '.dat')],
sep = '')
}
D1.hdr <- vector('character')
for(i in 1:length(FolderD1)){
D1.hdr[i] <- paste(FolderD1[i], '/',
list.files(FolderD1[i])[str_detect(list.files(FolderD1[i]), '.hdr')],
sep = '')}
dfNames <- vector('character')
for(i in 1:9){
dfNames[i] <- paste("G",as.character(i),"D1df", sep = "")
}
dfNames <- c("G1","G2")
V <- c()
tic()
for(i in 1:2){
a<- read.ENVI(
file = D1.dat[i],
headerfile = D1.hdr[i],
header = list(),
keys.hdr2data = FALSE,
wavelength = NULL,
label = list(),
block.lines.skip = 0,
block.lines.size = NULL,
pull.header.lines = TRUE)
b <- as.data.frame(a, xy = TRUE)
rm(a)
dfNames[i] <- brick(
rasterFromXYZ(data.frame(b$x, b$y, b$spc[,114])),
rasterFromXYZ(data.frame(b$x, b$y, b$spc[,65])),
rasterFromXYZ(data.frame(b$x, b$y, b$spc[,32])),
rasterFromXYZ(data.frame(b$x, b$y, b$spc[,199])),
rasterFromXYZ(data.frame(b$x, b$y, b$spc[,22])),
rasterFromXYZ(data.frame(b$x, b$y, b$spc[,139])),
rasterFromXYZ(data.frame(b$x, b$y, b$spc[,149])),
rasterFromXYZ(data.frame(b$x, b$y, b$spc[,134])),
rasterFromXYZ(data.frame(b$x, b$y, b$spc[,74])),
rasterFromXYZ(data.frame(b$x, b$y, b$spc[,232])),
rasterFromXYZ(data.frame(b$x, b$y, b$spc[,131])),
rasterFromXYZ(data.frame(b$x, b$y, b$spc[,191])),
rasterFromXYZ(data.frame(b$x, b$y, b$spc[,79])))
V <- append(V, paste(dfNames[i]))
rm (b, dfNames[i])
} ;toc()
